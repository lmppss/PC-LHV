# -*- coding: utf-8 -*-
"""Untitled0.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ZkgJpsrPLf54vXV3wMqcJXu2RLl27OGj
"""

import streamlit as st
import numpy as np
import pandas as pd
import joblib

# T칤tulo de la app
st.title("游댌 Predicci칩n del Poder Calor칤fico (PC) del Carb칩n")

# Cargar el modelo .pkl
modelo = joblib.load("PC_0.8722_12.04.pkl")  # Aseg칰rate de que este archivo est칠 en el mismo directorio que el script

# Inputs del usuario (10 variables, en orden y con nombres exactos)
st.header("游닌 Ingresar datos del an치lisis qu칤mico")

sio2 = st.number_input("SiO2 ash (%)", min_value=0.0)
al2o3 = st.number_input("Al2O3 ash (%)", min_value=0.0)
fe2o3 = st.number_input("Fe2O3 ash (%)", min_value=0.0)
cao = st.number_input("CaO ash (%)", min_value=0.0)
mgo = st.number_input("MgO ash (%)", min_value=0.0)
so3 = st.number_input("SO3 ash (%)", min_value=0.0)
na2o = st.number_input("Na2O ash (%)", min_value=0.0)
k2o = st.number_input("K2O ash (%)", min_value=0.0)
s_carbon = st.number_input("S carb칩n (%)", min_value=0.0)
cl_carbon = st.number_input("Cl carb칩n (%)", min_value=0.0)

# Crear DataFrame con nombres correctos
columnas = [
    'SiO2 ash (%)', 'Al2O3 ash (%)', 'Fe2O3 ash (%)', 'CaO ash (%)',
    'MgO ash (%)', 'SO3 ash (%)', 'Na2O ash (%)', 'K2O ash (%)',
    'S carb칩n (%)', 'Cl carb칩n (%)'
]

entrada = pd.DataFrame([[
    sio2, al2o3, fe2o3, cao, mgo, so3, na2o, k2o, s_carbon, cl_carbon
]], columns=columnas)

# Bot칩n para predecir
if st.button("游댩 Predecir Poder Calor칤fico"):
    pc_predicho = modelo.predict(entrada)[0]
    st.success(f"游댠 Poder Calor칤fico Predicho: {pc_predicho:.2f} kcal/kg")